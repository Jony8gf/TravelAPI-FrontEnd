{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jony8\\\\OneDrive\\\\Documentos\\\\AP.NET-CORE\\\\react-travel\\\\src\\\\utils\\\\Mapa.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { MapContainer, Marker, Popup, TileLayer, useMapEvent } from \"react-leaflet\";\nimport L from 'leaflet';\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport 'leaflet/dist/leaflet.css';\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconAnchor: [16, 37]\n});\nL.Marker.prototype.options.icon = DefaultIcon;\nexport default function Mapa(props) {\n  _s();\n\n  const [coordenadas, setCoordenadas] = useState(props.coordenadas);\n  const [lat, setLat] = useState();\n  const [long, setLong] = useState();\n  navigator.geolocation.getCurrentPosition(function (position) {\n    setLat(position.coords.latitude);\n    setLong(position.coords.longitude);\n  });\n  return (\n    /*#__PURE__*/\n    // center={[18.467455, -69.931242]} zoom={14}\n    _jsxDEV(MapContainer, {\n      center: [lat, long],\n      zoom: 14,\n      style: {\n        height: props.height\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"React Travel\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), props.soloLectura ? /*#__PURE__*/_jsxDEV(ClickMapa, {\n        setPunto: coordenadas => {\n          setCoordenadas([coordenadas]);\n          props.manejarClickMapa(coordenadas);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this) : null, coordenadas.map(coordenada => /*#__PURE__*/_jsxDEV(Marcador, { ...coordenada\n      }, coordenada.lat + coordenada.lng, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 44\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(Mapa, \"bKeV0N2OswxYjjlawQuHvXha/Ps=\");\n\n_c = Mapa;\nMapa.defaultProps = {\n  height: '500px',\n  soloLectura: false,\n  manejarClickMapa: () => {}\n};\n\nfunction ClickMapa(props) {\n  _s2();\n\n  useMapEvent('click', e => {\n    props.setPunto({\n      lat: e.latlng.lat,\n      lng: e.latlng.lng\n    });\n  });\n  return null;\n}\n\n_s2(ClickMapa, \"UJFMGIyDtKpxgOUCFJT9iLs+CFY=\", false, function () {\n  return [useMapEvent];\n});\n\n_c2 = ClickMapa;\n\nfunction Marcador(props) {\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    position: [props.lat, props.lng],\n    children: props.nombre ? /*#__PURE__*/_jsxDEV(Popup, {\n      children: props.nombre\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_c3 = Marcador;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Mapa\");\n$RefreshReg$(_c2, \"ClickMapa\");\n$RefreshReg$(_c3, \"Marcador\");","map":{"version":3,"sources":["C:/Users/jony8/OneDrive/Documentos/AP.NET-CORE/react-travel/src/utils/Mapa.tsx"],"names":["MapContainer","Marker","Popup","TileLayer","useMapEvent","L","icon","iconShadow","useState","DefaultIcon","iconUrl","shadowUrl","iconAnchor","prototype","options","Mapa","props","coordenadas","setCoordenadas","lat","setLat","long","setLong","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","height","soloLectura","manejarClickMapa","map","coordenada","lng","defaultProps","ClickMapa","e","setPunto","latlng","Marcador","nombre"],"mappings":"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","sourcesContent":["import { MapContainer, Marker, Popup, TileLayer, useMapEvent } from \"react-leaflet\"\nimport L from 'leaflet'\nimport icon from 'leaflet/dist/images/marker-icon.png'\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\nimport 'leaflet/dist/leaflet.css';\nimport {coordenadaDTO} from './coordenadas.model'\nimport { useState } from \"react\";\n\nlet DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow,\n    iconAnchor: [16, 37]\n});\n\n\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nexport default function Mapa(props: mapaProps){\n    const [coordenadas, setCoordenadas] = useState<coordenadaDTO[]>(props.coordenadas)\n    const [lat, setLat] = useState<number>();\n    const [long, setLong] = useState<number>();\n\n    navigator.geolocation.getCurrentPosition(function(position) {\n        setLat(position.coords.latitude);\n        setLong(position.coords.longitude);\n      });\n\n    return (\n\n        // center={[18.467455, -69.931242]} zoom={14}\n        <MapContainer\n            center={[lat, long]} zoom={14}\n            style={{height: props.height}}\n        >\n            <TileLayer attribution=\"React Travel\"\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {props.soloLectura ? \n                <ClickMapa setPunto={coordenadas => {\n                    setCoordenadas([coordenadas]);\n                    props.manejarClickMapa(coordenadas);\n                }} /> : null}\n            \n            {coordenadas.map(coordenada => <Marcador key={coordenada.lat + coordenada.lng} \n              {...coordenada}\n            />)}\n        </MapContainer>\n    )\n}\n\ninterface mapaProps {\n    height: string;\n    coordenadas: coordenadaDTO[];\n    manejarClickMapa(coordenadas: coordenadaDTO): void;\n    soloLectura: boolean;\n}\n\nMapa.defaultProps = {\n    height: '500px',\n    soloLectura: false,\n    manejarClickMapa: () => {}\n}\n\nfunction ClickMapa(props: clickMapaProps){\n    useMapEvent('click', e => {\n        props.setPunto({lat: e.latlng.lat, lng: e.latlng.lng})\n    })\n    return null;\n}\n\ninterface clickMapaProps {\n    setPunto(coordenadas: coordenadaDTO): void;\n}\n\nfunction Marcador(props: coordenadaDTO){\n    return (\n        <Marker position={[props.lat, props.lng]}> \n            {props.nombre ? <Popup>{props.nombre}</Popup> : null}\n        </Marker>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}